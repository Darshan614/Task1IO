{"ast":null,"code":"import _slicedToArray from\"D:/Task1FE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Order from\"./UI/Order\";import{useEffect,useState}from\"react\";import Loading from\"./Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Orders(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orderData=_useState2[0],setorderData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setdate=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setloading=_useState6[1];useEffect(function(){var token=localStorage.getItem(\"token\");fetch(\"https://ecommerceio.onrender.com/userOrders\",{method:\"GET\",headers:{Authorization:\"Bearer \"+token}}).then(function(res){return res.json();}).then(function(data){console.log(data);setloading(false);setorderData(data.orders);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(Loading,{}),!loading&&orderData.length===0&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"black\",textAlign:\"center\"},children:\"No orders yet\"}),orderData.map(function(order){var dateString=order.created_at;var date=new Date(dateString);var year=date.getFullYear();// 2023\nvar month=date.getMonth()+1;// JavaScript months are zero-indexed, so add 1\nvar day=date.getDate();// 24\nvar hours=date.getHours();// 12\nvar minutes=date.getMinutes();// 55\nvar seconds=date.getSeconds();// 43\nvar milliseconds=date.getMilliseconds();// 418\nvar d=day+\"/\"+month+\"/\"+year;var t=hours+\":\"+minutes+\":\"+seconds;return/*#__PURE__*/_jsx(_Fragment,{children:!loading&&/*#__PURE__*/_jsx(Order,{amount:order.total,d:d,t:t,products:order.products})});})]});}export default Orders;","map":{"version":3,"names":["Order","useEffect","useState","Loading","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Orders","_useState","_useState2","_slicedToArray","orderData","setorderData","_useState3","_useState4","date","setdate","_useState5","_useState6","loading","setloading","token","localStorage","getItem","fetch","method","headers","Authorization","then","res","json","data","console","log","orders","children","length","style","color","textAlign","map","order","dateString","created_at","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","d","t","amount","total","products"],"sources":["D:/Task1FE/src/Components/Orders.js"],"sourcesContent":["import Order from \"./UI/Order\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Loading from \"./Loading\";\r\n\r\nfunction Orders() {\r\n  const [orderData, setorderData] = useState([]);\r\n  const [date, setdate] = useState();\r\n  const [loading, setloading] = useState(true);\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    fetch(\"https://ecommerceio.onrender.com/userOrders\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(data);\r\n        setloading(false);\r\n        setorderData(data.orders);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loading />}\r\n      {!loading && orderData.length === 0 && (\r\n        <p style={{ color: \"black\", textAlign: \"center\" }}>No orders yet</p>\r\n      )}\r\n      {orderData.map((order) => {\r\n        const dateString = order.created_at;\r\n        const date = new Date(dateString);\r\n        const year = date.getFullYear(); // 2023\r\n        const month = date.getMonth() + 1; // JavaScript months are zero-indexed, so add 1\r\n        const day = date.getDate(); // 24\r\n        const hours = date.getHours(); // 12\r\n        const minutes = date.getMinutes(); // 55\r\n        const seconds = date.getSeconds(); // 43\r\n        const milliseconds = date.getMilliseconds(); // 418\r\n        const d = day + \"/\" + month + \"/\" + year;\r\n        const t = hours + \":\" + minutes + \":\" + seconds;\r\n        return (\r\n          <>\r\n            {!loading && (\r\n              <Order\r\n                amount={order.total}\r\n                d={d}\r\n                t={t}\r\n                products={order.products}\r\n              />\r\n            )}\r\n          </>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n"],"mappings":"gGAAA,MAAO,CAAAA,KAAK,KAAM,YAAY,CAC9B,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,IAAAC,SAAA,CAAkCT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAAwBd,QAAQ,EAAE,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAA8BlB,QAAQ,CAAC,IAAI,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAArCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1BpB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAuB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CC,KAAK,CAAC,6CAA6C,CAAE,CACnDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,aAAa,CAAE,SAAS,CAAGN,KAC7B,CACF,CAAC,CAAC,CACCO,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,MAAO,CAAAA,GAAG,CAACC,IAAI,EAAE,CACnB,CAAC,CAAC,CACDF,IAAI,CAAC,SAACG,IAAI,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjBX,UAAU,CAAC,KAAK,CAAC,CACjBR,YAAY,CAACmB,IAAI,CAACG,MAAM,CAAC,CAC3B,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE5B,KAAA,CAAAF,SAAA,EAAA+B,QAAA,EACGhB,OAAO,eAAIjB,IAAA,CAACF,OAAO,IAAG,CACtB,CAACmB,OAAO,EAAIR,SAAS,CAACyB,MAAM,GAAK,CAAC,eACjClC,IAAA,MAAGmC,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAJ,QAAA,CAAC,eAAa,EACjE,CACAxB,SAAS,CAAC6B,GAAG,CAAC,SAACC,KAAK,CAAK,CACxB,GAAM,CAAAC,UAAU,CAAGD,KAAK,CAACE,UAAU,CACnC,GAAM,CAAA5B,IAAI,CAAG,GAAI,CAAA6B,IAAI,CAACF,UAAU,CAAC,CACjC,GAAM,CAAAG,IAAI,CAAG9B,IAAI,CAAC+B,WAAW,EAAE,CAAE;AACjC,GAAM,CAAAC,KAAK,CAAGhC,IAAI,CAACiC,QAAQ,EAAE,CAAG,CAAC,CAAE;AACnC,GAAM,CAAAC,GAAG,CAAGlC,IAAI,CAACmC,OAAO,EAAE,CAAE;AAC5B,GAAM,CAAAC,KAAK,CAAGpC,IAAI,CAACqC,QAAQ,EAAE,CAAE;AAC/B,GAAM,CAAAC,OAAO,CAAGtC,IAAI,CAACuC,UAAU,EAAE,CAAE;AACnC,GAAM,CAAAC,OAAO,CAAGxC,IAAI,CAACyC,UAAU,EAAE,CAAE;AACnC,GAAM,CAAAC,YAAY,CAAG1C,IAAI,CAAC2C,eAAe,EAAE,CAAE;AAC7C,GAAM,CAAAC,CAAC,CAAGV,GAAG,CAAG,GAAG,CAAGF,KAAK,CAAG,GAAG,CAAGF,IAAI,CACxC,GAAM,CAAAe,CAAC,CAAGT,KAAK,CAAG,GAAG,CAAGE,OAAO,CAAG,GAAG,CAAGE,OAAO,CAC/C,mBACErD,IAAA,CAAAE,SAAA,EAAA+B,QAAA,CACG,CAAChB,OAAO,eACPjB,IAAA,CAACL,KAAK,EACJgE,MAAM,CAAEpB,KAAK,CAACqB,KAAM,CACpBH,CAAC,CAAEA,CAAE,CACLC,CAAC,CAAEA,CAAE,CACLG,QAAQ,CAAEtB,KAAK,CAACsB,QAAS,EAE5B,EACA,CAEP,CAAC,CAAC,GACD,CAEP,CAEA,cAAe,CAAAxD,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}