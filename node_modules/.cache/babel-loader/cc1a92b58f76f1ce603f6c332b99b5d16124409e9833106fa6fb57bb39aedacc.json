{"ast":null,"code":"import{redirect}from\"react-router-dom\";export function getAuthToken(){var token=localStorage.getItem(\"token\");return token;}export function tokenLoader(){return getAuthToken();}export function getRole(){var role=localStorage.getItem(\"role\");return role;}export function roleLoader(){return getRole();}export function checkAuthLoader(){var token=getAuthToken();console.log(\"in loader\");console.log(token);if(!token){return redirect(\"/auth\");}return null;}export function checkRoleLoader(){var token=getAuthToken();var role=getRole();if(!token||!(role===\"admin\")){return redirect(\"/\");}return null;}","map":{"version":3,"names":["redirect","getAuthToken","token","localStorage","getItem","tokenLoader","getRole","role","roleLoader","checkAuthLoader","console","log","checkRoleLoader"],"sources":["D:/Task1FE/src/util/auth.js"],"sourcesContent":["import { redirect } from \"react-router-dom\";\r\n\r\nexport function getAuthToken() {\r\n  const token = localStorage.getItem(\"token\");\r\n  return token;\r\n}\r\n\r\nexport function tokenLoader() {\r\n  return getAuthToken();\r\n}\r\n\r\nexport function getRole() {\r\n  const role = localStorage.getItem(\"role\");\r\n  return role;\r\n}\r\n\r\nexport function roleLoader() {\r\n  return getRole();\r\n}\r\n\r\nexport function checkAuthLoader() {\r\n  const token = getAuthToken();\r\n  console.log(\"in loader\");\r\n  console.log(token);\r\n  if (!token) {\r\n    return redirect(\"/auth\");\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function checkRoleLoader() {\r\n  const token = getAuthToken();\r\n  const role = getRole();\r\n  if (!token || !(role === \"admin\")) {\r\n    return redirect(\"/\");\r\n  }\r\n  return null;\r\n}\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,kBAAkB,CAE3C,MAAO,SAAS,CAAAC,YAAYA,CAAA,CAAG,CAC7B,GAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,MAAO,CAAAF,KAAK,CACd,CAEA,MAAO,SAAS,CAAAG,WAAWA,CAAA,CAAG,CAC5B,MAAO,CAAAJ,YAAY,EAAE,CACvB,CAEA,MAAO,SAAS,CAAAK,OAAOA,CAAA,CAAG,CACxB,GAAM,CAAAC,IAAI,CAAGJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACzC,MAAO,CAAAG,IAAI,CACb,CAEA,MAAO,SAAS,CAAAC,UAAUA,CAAA,CAAG,CAC3B,MAAO,CAAAF,OAAO,EAAE,CAClB,CAEA,MAAO,SAAS,CAAAG,eAAeA,CAAA,CAAG,CAChC,GAAM,CAAAP,KAAK,CAAGD,YAAY,EAAE,CAC5BS,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC,CACxBD,OAAO,CAACC,GAAG,CAACT,KAAK,CAAC,CAClB,GAAI,CAACA,KAAK,CAAE,CACV,MAAO,CAAAF,QAAQ,CAAC,OAAO,CAAC,CAC1B,CACA,MAAO,KAAI,CACb,CAEA,MAAO,SAAS,CAAAY,eAAeA,CAAA,CAAG,CAChC,GAAM,CAAAV,KAAK,CAAGD,YAAY,EAAE,CAC5B,GAAM,CAAAM,IAAI,CAAGD,OAAO,EAAE,CACtB,GAAI,CAACJ,KAAK,EAAI,EAAEK,IAAI,GAAK,OAAO,CAAC,CAAE,CACjC,MAAO,CAAAP,QAAQ,CAAC,GAAG,CAAC,CACtB,CACA,MAAO,KAAI,CACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}