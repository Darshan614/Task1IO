{"ast":null,"code":"import _slicedToArray from\"D:/Task1FE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useParams}from\"react-router-dom\";import classes from\"./AddReview.module.css\";import Button from\"../UI/Button\";import Modal from\"../UI/Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddReview(){var params=useParams();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setshowModal=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setrating=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),feedback=_useState6[0],setfeedback=_useState6[1];var changeRating=function changeRating(val){console.log(val);setrating(val);};var changefeedback=function changefeedback(event){console.log(event.target.value);setfeedback(event.target.value);};var onSubmitReview=function onSubmitReview(){console.log(rating,feedback);var token=localStorage.getItem(\"token\");fetch(\"https://ecommerceio.onrender.com/addReview\",{method:\"POST\",headers:{Authorization:\"Bearer \"+token,\"Content-Type\":\"application/json\"},body:JSON.stringify({rating:rating,feedback:feedback,productId:params.productId})}).then(function(res){return res.json();}).then(function(data){if(data.message===\"Review added successfully\"){setshowModal(true);}});};var onOkay=function onOkay(){setshowModal(false);setshowform(false);};var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showform=_useState8[0],setshowform=_useState8[1];var showformToggler=function showformToggler(){setshowform(!showform);};return/*#__PURE__*/_jsx(\"div\",{className:classes.box,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Button,{title:\"Add a review\",onClick:showformToggler}),showform&&/*#__PURE__*/_jsxs(\"div\",{className:classes.form,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.inputs,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.rating,children:[\"Select rating\",/*#__PURE__*/_jsxs(\"div\",{className:classes.stars,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(rating>=1?classes.staractive:classes.starinactive),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"1\",name:\"rating\"}),/*#__PURE__*/_jsx(\"ion-icon\",{className:classes.star,name:\"star\",onClick:function onClick(){return changeRating(1);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(rating>=2?classes.staractive:classes.starinactive),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"2\",name:\"rating\"}),/*#__PURE__*/_jsx(\"ion-icon\",{className:classes.star,name:\"star\",onClick:function onClick(){return changeRating(2);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(rating>=3?classes.staractive:classes.starinactive),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"3\",name:\"rating\"}),/*#__PURE__*/_jsx(\"ion-icon\",{className:classes.star,name:\"star\",onClick:function onClick(){return changeRating(3);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(rating>=4?classes.staractive:classes.starinactive),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"4\",name:\"rating\"}),/*#__PURE__*/_jsx(\"ion-icon\",{className:classes.star,name:\"star\",onClick:function onClick(){return changeRating(4);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(rating>=5?classes.staractive:classes.starinactive),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"5\",name:\"rating\"}),/*#__PURE__*/_jsx(\"ion-icon\",{className:classes.star,name:\"star\",onClick:function onClick(){return changeRating(5);}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"Add a feedback\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:changefeedback,className:classes.textarea})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(Button,{title:\"Submit\",onClick:onSubmitReview})}),showModal&&/*#__PURE__*/_jsx(Modal,{title:\"Success!\",message:\"Review added successfully\",onClick:onOkay})]})]})});}export default AddReview;","map":{"version":3,"names":["useState","useParams","classes","Button","Modal","jsx","_jsx","jsxs","_jsxs","AddReview","params","_useState","_useState2","_slicedToArray","showModal","setshowModal","_useState3","_useState4","rating","setrating","_useState5","_useState6","feedback","setfeedback","changeRating","val","console","log","changefeedback","event","target","value","onSubmitReview","token","localStorage","getItem","fetch","method","headers","Authorization","body","JSON","stringify","productId","then","res","json","data","message","onOkay","setshowform","_useState7","_useState8","showform","showformToggler","className","box","children","title","onClick","form","inputs","stars","concat","staractive","starinactive","type","name","star","onChange","textarea"],"sources":["D:/Task1FE/src/Components/Product/AddReview.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport classes from \"./AddReview.module.css\";\r\nimport Button from \"../UI/Button\";\r\nimport Modal from \"../UI/Modal\";\r\n\r\nfunction AddReview() {\r\n  const params = useParams();\r\n  const [showModal, setshowModal] = useState(false);\r\n  const [rating, setrating] = useState(0);\r\n  const [feedback, setfeedback] = useState();\r\n  const changeRating = (val) => {\r\n    console.log(val);\r\n    setrating(val);\r\n  };\r\n  const changefeedback = (event) => {\r\n    console.log(event.target.value);\r\n    setfeedback(event.target.value);\r\n  };\r\n  const onSubmitReview = () => {\r\n    console.log(rating, feedback);\r\n    const token = localStorage.getItem(\"token\");\r\n    fetch(\"https://ecommerceio.onrender.com/addReview\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        rating: rating,\r\n        feedback: feedback,\r\n        productId: params.productId,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.message === \"Review added successfully\") {\r\n          setshowModal(true);\r\n        }\r\n      });\r\n  };\r\n  const onOkay = () => {\r\n    setshowModal(false);\r\n    setshowform(false);\r\n  };\r\n  const [showform, setshowform] = useState(false);\r\n  const showformToggler = () => {\r\n    setshowform(!showform);\r\n  };\r\n  return (\r\n    <div className={classes.box}>\r\n      <div className=\"container\">\r\n        <Button title=\"Add a review\" onClick={showformToggler} />\r\n        {showform && (\r\n          <div className={classes.form}>\r\n            <div className={classes.inputs}>\r\n              <div className={classes.rating}>\r\n                Select rating\r\n                <div className={classes.stars}>\r\n                  <div\r\n                    className={`${\r\n                      rating >= 1 ? classes.staractive : classes.starinactive\r\n                    }`}\r\n                  >\r\n                    <input type=\"radio\" value=\"1\" name=\"rating\" />\r\n                    <ion-icon\r\n                      className={classes.star}\r\n                      name=\"star\"\r\n                      onClick={() => changeRating(1)}\r\n                    ></ion-icon>\r\n                  </div>\r\n                  <div\r\n                    className={`${\r\n                      rating >= 2 ? classes.staractive : classes.starinactive\r\n                    }`}\r\n                  >\r\n                    <input type=\"radio\" value=\"2\" name=\"rating\" />\r\n                    <ion-icon\r\n                      className={classes.star}\r\n                      name=\"star\"\r\n                      onClick={() => changeRating(2)}\r\n                    ></ion-icon>\r\n                  </div>\r\n                  <div\r\n                    className={`${\r\n                      rating >= 3 ? classes.staractive : classes.starinactive\r\n                    }`}\r\n                  >\r\n                    <input type=\"radio\" value=\"3\" name=\"rating\" />\r\n                    <ion-icon\r\n                      className={classes.star}\r\n                      name=\"star\"\r\n                      onClick={() => changeRating(3)}\r\n                    ></ion-icon>\r\n                  </div>\r\n                  <div\r\n                    className={`${\r\n                      rating >= 4 ? classes.staractive : classes.starinactive\r\n                    }`}\r\n                  >\r\n                    <input type=\"radio\" value=\"4\" name=\"rating\" />\r\n                    <ion-icon\r\n                      className={classes.star}\r\n                      name=\"star\"\r\n                      onClick={() => changeRating(4)}\r\n                    ></ion-icon>\r\n                  </div>\r\n                  <div\r\n                    className={`${\r\n                      rating >= 5 ? classes.staractive : classes.starinactive\r\n                    }`}\r\n                  >\r\n                    <input type=\"radio\" value=\"5\" name=\"rating\" />\r\n                    <ion-icon\r\n                      className={classes.star}\r\n                      name=\"star\"\r\n                      onClick={() => changeRating(5)}\r\n                    ></ion-icon>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <div>Add a feedback</div>\r\n                <textarea\r\n                  onChange={changefeedback}\r\n                  className={classes.textarea}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"container\">\r\n              <Button title=\"Submit\" onClick={onSubmitReview} />\r\n            </div>\r\n            {showModal && (\r\n              <Modal\r\n                title=\"Success!\"\r\n                message=\"Review added successfully\"\r\n                onClick={onOkay}\r\n              />\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddReview;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}