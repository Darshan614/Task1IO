{"ast":null,"code":"import _defineProperty from\"D:/Task1FE/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"D:/Task1FE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classes from\"./HorizontalCard.module.css\";import{useDispatch,useSelector}from\"react-redux\";import{cartActions}from\"../../store/index\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HorizontalCard(props){var dispatch=useDispatch();// const quantity = useSelector((state) => {\n//   for (let a = 0; a < state.cart.cart.cartList.length; a++) {\n//     if (state.cart.cart.cartList[a][props.prod._id]) {\n//       return state.cart.cart.cartList[props.prod._id];\n//     }\n//   }\n// });\n// for (let a = 0; a < quantity.length; a++) {\n//   if (quantity[a][props.prod._id]) {\n//     quantity = quantity[a][props.prod._id];\n//   }\n// }\nvar quantity=useSelector(function(state){return state.cart.cart.cartList;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),q=_useState2[0],setq=_useState2[1];useEffect(function(){console.log(\"quantity\",quantity,props.prod._id);for(var x=0;x<quantity.length;x++){console.log(\"inloop\",quantity[x]);if(Object.keys(quantity[x])[0]===props.prod._id){// console.log(x, \"found\", quantity[x][Object.keys(quantity[x])[0]]);\nsetq(quantity[x][Object.keys(quantity[x])[0]]);}}// setq(quantity[1][props.prod._id]);\n},[quantity]);var onAdd=function onAdd(){var key=props.prod._id;dispatch(cartActions.addToCart(_defineProperty({},key,1)));};var onRemove=function onRemove(){var key=props.prod._id;dispatch(cartActions.removefromcart(_defineProperty({},key,1)));};return/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3 \".concat(classes.card),style:{\"max-width\":\"540px\"},children:/*#__PURE__*/_jsxs(\"div\",{class:\"row g-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-12 \".concat(classes.mycard),children:/*#__PURE__*/_jsx(\"img\",{src:props.prod.imageURLs[0],className:\"img-fluid rounded-start \".concat(classes.img),alt:\"...\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-md-8 col-12\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"card-title\",children:props.prod.productname}),/*#__PURE__*/_jsx(\"p\",{class:\"card-text\",children:props.prod.description}),/*#__PURE__*/_jsx(\"p\",{class:\"card-text\",children:/*#__PURE__*/_jsxs(\"small\",{class:\"text-muted\",children:[\"$\",props.prod.price]})}),/*#__PURE__*/_jsx(\"button\",{className:classes.inc,onClick:onAdd,children:\"+\"}),/*#__PURE__*/_jsx(\"span\",{className:classes.quantity,children:q}),/*#__PURE__*/_jsx(\"button\",{className:classes.inc,onClick:onRemove,children:\"-\"})]})})]})})});}export default HorizontalCard;","map":{"version":3,"names":["classes","useDispatch","useSelector","cartActions","useEffect","useState","jsx","_jsx","jsxs","_jsxs","HorizontalCard","props","dispatch","quantity","state","cart","cartList","_useState","_useState2","_slicedToArray","q","setq","console","log","prod","_id","x","length","Object","keys","onAdd","key","addToCart","_defineProperty","onRemove","removefromcart","class","children","className","concat","card","style","mycard","src","imageURLs","img","alt","productname","description","price","inc","onClick"],"sources":["D:/Task1FE/src/Components/UI/HorizontalCard.js"],"sourcesContent":["import classes from \"./HorizontalCard.module.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { cartActions } from \"../../store/index\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction HorizontalCard(props) {\r\n  const dispatch = useDispatch();\r\n  // const quantity = useSelector((state) => {\r\n  //   for (let a = 0; a < state.cart.cart.cartList.length; a++) {\r\n  //     if (state.cart.cart.cartList[a][props.prod._id]) {\r\n  //       return state.cart.cart.cartList[props.prod._id];\r\n  //     }\r\n  //   }\r\n  // });\r\n\r\n  // for (let a = 0; a < quantity.length; a++) {\r\n  //   if (quantity[a][props.prod._id]) {\r\n  //     quantity = quantity[a][props.prod._id];\r\n  //   }\r\n  // }\r\n  const quantity = useSelector((state) => state.cart.cart.cartList);\r\n  const [q, setq] = useState(0);\r\n\r\n  useEffect(() => {\r\n    console.log(\"quantity\", quantity, props.prod._id);\r\n    for (let x = 0; x < quantity.length; x++) {\r\n      console.log(\"inloop\", quantity[x]);\r\n      if (Object.keys(quantity[x])[0] === props.prod._id) {\r\n        // console.log(x, \"found\", quantity[x][Object.keys(quantity[x])[0]]);\r\n        setq(quantity[x][Object.keys(quantity[x])[0]]);\r\n      }\r\n    }\r\n    // setq(quantity[1][props.prod._id]);\r\n  }, [quantity]);\r\n\r\n  const onAdd = () => {\r\n    const key = props.prod._id;\r\n    dispatch(cartActions.addToCart({ [key]: 1 }));\r\n  };\r\n  const onRemove = () => {\r\n    const key = props.prod._id;\r\n    dispatch(cartActions.removefromcart({ [key]: 1 }));\r\n  };\r\n  return (\r\n    <div class=\"container\">\r\n      <div\r\n        className={`card mb-3 ${classes.card}`}\r\n        style={{ \"max-width\": \"540px\" }}\r\n      >\r\n        <div class=\"row g-0\">\r\n          <div className={`col-md-4 col-12 ${classes.mycard}`}>\r\n            <img\r\n              src={props.prod.imageURLs[0]}\r\n              className={`img-fluid rounded-start ${classes.img}`}\r\n              alt=\"...\"\r\n            />\r\n          </div>\r\n          <div class=\"col-md-8 col-12\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">{props.prod.productname}</h5>\r\n              <p class=\"card-text\">{props.prod.description}</p>\r\n              <p class=\"card-text\">\r\n                <small class=\"text-muted\">${props.prod.price}</small>\r\n              </p>\r\n              <button className={classes.inc} onClick={onAdd}>\r\n                +\r\n              </button>\r\n              <span className={classes.quantity}>{q}</span>\r\n              <button className={classes.inc} onClick={onRemove}>\r\n                -\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HorizontalCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}