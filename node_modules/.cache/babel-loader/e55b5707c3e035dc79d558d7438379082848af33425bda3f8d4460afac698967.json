{"ast":null,"code":"import _toConsumableArray from\"D:/Task1FE/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{createSlice,configureStore}from\"@reduxjs/toolkit\";import storage from\"redux-persist/lib/storage\";import{persistReducer}from\"redux-persist\";import{combineReducers}from\"@reduxjs/toolkit\";var persistConfig={key:\"root\",version:1,storage:storage};var initialAuthState={loggedIn:false,role:null};var authSlice=createSlice({name:\"auth\",initialState:initialAuthState,reducers:{login:function login(state,action){state.loggedIn=true;state.role=action.payload;},logout:function logout(state,action){state.loggedIn=false;// state.role = action.payload;\nstate.role=null;}}});var initialCartState={cartList:[]};var cartSlice=createSlice({name:\"cart\",initialState:initialCartState,reducers:{addToCart:function addToCart(state,action){console.log(action.payload);var id=Object.keys(action.payload)[0];var flag=1;// console.log(\"after flag\", );\nvar newarr=_toConsumableArray(state.cartList);for(var a=0;a<state.cartList.length;a++){if(id===Object.keys(state.cartList[a])[0]){console.log(\"Addddddddddddddddddddddddddd\");newarr[a][Object.keys(newarr[a])[0]]+=1;console.log(\"new arr updated\",newarr,Object.values(newarr[a])[0]);state.cartList=newarr;flag=0;}}if(flag){state.cartList=[].concat(_toConsumableArray(state.cartList),[action.payload]);}console.log(\"in add to cart\",state.cartList);},removefromcart:function removefromcart(state,action){console.log(action.payload);var id=Object.keys(action.payload)[0];console.log(\"iddddddddddddddddd\",id);var newarr=_toConsumableArray(state.cartList);var flag=1;for(var a=0;a<state.cartList.length;a++){if(id===Object.keys(state.cartList[a])[0]){console.log(\"here\");if(Object.values(state.cartList[a])[0]===1){var firsthalf=newarr.slice(0,a);var secondhalf=newarr.slice(a+1,newarr.length);state.cartList=[].concat(_toConsumableArray(firsthalf),_toConsumableArray(secondhalf));return;}else{console.log(\"Removeeeeeeeeee\");newarr[a][Object.keys(newarr[a])[0]]-=1;console.log(\"new arr updated\",newarr,Object.values(newarr[a])[0]);state.cartList=newarr;flag=0;}}}},removeCart:function removeCart(state){state.cartList=[];}}});var reducer=combineReducers({cart:cartSlice.reducer});var persistedReducer=persistReducer(persistConfig,reducer);var store=configureStore({reducer:{auth:authSlice.reducer,cart:persistedReducer}});export var authActions=authSlice.actions;export var cartActions=cartSlice.actions;export default store;","map":{"version":3,"names":["createSlice","configureStore","storage","persistReducer","combineReducers","persistConfig","key","version","initialAuthState","loggedIn","role","authSlice","name","initialState","reducers","login","state","action","payload","logout","initialCartState","cartList","cartSlice","addToCart","console","log","id","Object","keys","flag","newarr","_toConsumableArray","a","length","values","concat","removefromcart","firsthalf","slice","secondhalf","removeCart","reducer","cart","persistedReducer","store","auth","authActions","actions","cartActions"],"sources":["D:/Task1FE/src/store/index.js"],"sourcesContent":["import { createSlice, configureStore } from \"@reduxjs/toolkit\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { persistReducer } from \"redux-persist\";\r\nimport { combineReducers } from \"@reduxjs/toolkit\";\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  version: 1,\r\n  storage,\r\n};\r\nconst initialAuthState = { loggedIn: false, role: null };\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: initialAuthState,\r\n  reducers: {\r\n    login(state, action) {\r\n      state.loggedIn = true;\r\n      state.role = action.payload;\r\n    },\r\n    logout(state, action) {\r\n      state.loggedIn = false;\r\n      // state.role = action.payload;\r\n      state.role = null;\r\n    },\r\n  },\r\n});\r\n\r\nconst initialCartState = {\r\n  cartList: [],\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: initialCartState,\r\n  reducers: {\r\n    addToCart(state, action) {\r\n      console.log(action.payload);\r\n      const id = Object.keys(action.payload)[0];\r\n      let flag = 1;\r\n      // console.log(\"after flag\", );\r\n      const newarr = [...state.cartList];\r\n      for (let a = 0; a < state.cartList.length; a++) {\r\n        if (id === Object.keys(state.cartList[a])[0]) {\r\n          console.log(\"Addddddddddddddddddddddddddd\");\r\n          newarr[a][Object.keys(newarr[a])[0]] += 1;\r\n          console.log(\"new arr updated\", newarr, Object.values(newarr[a])[0]);\r\n          state.cartList = newarr;\r\n          flag = 0;\r\n        }\r\n      }\r\n      if (flag) {\r\n        state.cartList = [...state.cartList, action.payload];\r\n      }\r\n\r\n      console.log(\"in add to cart\", state.cartList);\r\n    },\r\n    removefromcart(state, action) {\r\n      console.log(action.payload);\r\n      const id = Object.keys(action.payload)[0];\r\n      console.log(\"iddddddddddddddddd\", id);\r\n      const newarr = [...state.cartList];\r\n      let flag = 1;\r\n      for (let a = 0; a < state.cartList.length; a++) {\r\n        if (id === Object.keys(state.cartList[a])[0]) {\r\n          console.log(\"here\");\r\n          if (Object.values(state.cartList[a])[0] === 1) {\r\n            const firsthalf = newarr.slice(0, a);\r\n            const secondhalf = newarr.slice(a + 1, newarr.length);\r\n            state.cartList = [...firsthalf, ...secondhalf];\r\n            return;\r\n          } else {\r\n            console.log(\"Removeeeeeeeeee\");\r\n            newarr[a][Object.keys(newarr[a])[0]] -= 1;\r\n            console.log(\"new arr updated\", newarr, Object.values(newarr[a])[0]);\r\n            state.cartList = newarr;\r\n            flag = 0;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    removeCart(state) {\r\n      state.cartList = [];\r\n    },\r\n  },\r\n});\r\nconst reducer = combineReducers({\r\n  cart: cartSlice.reducer,\r\n});\r\nconst persistedReducer = persistReducer(persistConfig, reducer);\r\nconst store = configureStore({\r\n  reducer: { auth: authSlice.reducer, cart: persistedReducer },\r\n});\r\n\r\nexport const authActions = authSlice.actions;\r\nexport const cartActions = cartSlice.actions;\r\nexport default store;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}