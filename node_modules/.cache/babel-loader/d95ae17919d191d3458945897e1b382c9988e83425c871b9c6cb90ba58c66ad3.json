{"ast":null,"code":"import _slicedToArray from\"D:/Task1FE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import ProductData from\"../Components/UI/ProductData\";import SimilarProducts from\"../Components/SimilarProducts\";import Reviews from\"../Components/Reviews\";import AddReview from\"../Components/AddReview\";import Loading from\"../Components/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductInfo(){var errorHandler=function errorHandler(){setError(null);};console.log(\"pro info\");var params=useParams();// console.log(typeof params.productId);\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),pname=_useState2[0],setpname=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),pprice=_useState4[0],setpprice=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),pdesc=_useState6[0],setpdesc=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),pimageURL=_useState8[0],setpimageURL=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),thumbimages=_useState10[0],setthumbimages=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),rating=_useState12[0],setrating=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),id=_useState14[0],setid=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),error=_useState16[0],setError=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),similar=_useState18[0],setsimilar=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),loading=_useState20[0],setloading=_useState20[1];useEffect(function(){fetch(\"https://ecommerceio.onrender.com/productInfo\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({productId:params.productId})}).then(function(res){return res.json();}).then(function(data){setpname(data.productData.productname);setpprice(data.productData.price);setpdesc(data.productData.description);setpimageURL(data.productData.imageURLs[0]);setthumbimages(data.productData.imageURLs);setrating(data.productData.rating);setid(data.productData._id);//data for similar products\nfetch(\"https://ecommerceio.onrender.com/similarProducts\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({category:data.productData.category})}).then(function(res){return res.json();}).then(function(data){setsimilar(data.data);setloading(false);});}).catch(function(err){// console.log(\"errrrrrrrrrrr\", err);\n});},[params.productId]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(Loading,{}),!loading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ProductData,{pname:pname,pprice:pprice,pdesc:pdesc,pimageURL:pimageURL,thumbimages:thumbimages,rating:rating,id:id}),/*#__PURE__*/_jsx(SimilarProducts,{products:similar}),/*#__PURE__*/_jsx(Reviews,{}),/*#__PURE__*/_jsx(AddReview,{})]})]});}export default ProductInfo;","map":{"version":3,"names":["useEffect","useState","useParams","ProductData","SimilarProducts","Reviews","AddReview","Loading","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProductInfo","errorHandler","setError","console","log","params","_useState","_useState2","_slicedToArray","pname","setpname","_useState3","_useState4","pprice","setpprice","_useState5","_useState6","pdesc","setpdesc","_useState7","_useState8","pimageURL","setpimageURL","_useState9","_useState10","thumbimages","setthumbimages","_useState11","_useState12","rating","setrating","_useState13","_useState14","id","setid","_useState15","_useState16","error","_useState17","_useState18","similar","setsimilar","_useState19","_useState20","loading","setloading","fetch","method","headers","body","JSON","stringify","productId","then","res","json","data","productData","productname","price","description","imageURLs","_id","category","catch","err","children","products"],"sources":["D:/Task1FE/src/pages/ProductInfo.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ProductData from \"../Components/UI/ProductData\";\r\nimport SimilarProducts from \"../Components/SimilarProducts\";\r\nimport Reviews from \"../Components/Reviews\";\r\nimport AddReview from \"../Components/AddReview\";\r\nimport Loading from \"../Components/Loading\";\r\n\r\nfunction ProductInfo() {\r\n  const errorHandler = () => {\r\n    setError(null);\r\n  };\r\n  console.log(\"pro info\");\r\n  const params = useParams();\r\n  // console.log(typeof params.productId);\r\n\r\n  const [pname, setpname] = useState();\r\n  const [pprice, setpprice] = useState();\r\n  const [pdesc, setpdesc] = useState();\r\n  const [pimageURL, setpimageURL] = useState();\r\n  const [thumbimages, setthumbimages] = useState([]);\r\n  const [rating, setrating] = useState(1);\r\n  const [id, setid] = useState();\r\n  const [error, setError] = useState();\r\n  const [similar, setsimilar] = useState([]);\r\n  const [loading, setloading] = useState(true);\r\n  useEffect(() => {\r\n    fetch(\"https://ecommerceio.onrender.com/productInfo\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        productId: params.productId,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setpname(data.productData.productname);\r\n        setpprice(data.productData.price);\r\n        setpdesc(data.productData.description);\r\n        setpimageURL(data.productData.imageURLs[0]);\r\n        setthumbimages(data.productData.imageURLs);\r\n        setrating(data.productData.rating);\r\n        setid(data.productData._id);\r\n\r\n        //data for similar products\r\n        fetch(\"https://ecommerceio.onrender.com/similarProducts\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            category: data.productData.category,\r\n          }),\r\n        })\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            setsimilar(data.data);\r\n            setloading(false);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        // console.log(\"errrrrrrrrrrr\", err);\r\n      });\r\n  }, [params.productId]);\r\n  return (\r\n    <>\r\n      {/* {pname} {pprice} {pdesc} */}\r\n      {loading && <Loading />}\r\n      {!loading && (\r\n        <>\r\n          <ProductData\r\n            pname={pname}\r\n            pprice={pprice}\r\n            pdesc={pdesc}\r\n            pimageURL={pimageURL}\r\n            thumbimages={thumbimages}\r\n            rating={rating}\r\n            id={id}\r\n          />\r\n          <SimilarProducts products={similar} />\r\n          <Reviews />\r\n          <AddReview />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProductInfo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}